{% extends 'base.html' %}

{% load static %}

{% block head %}
{% endblock %}

{% block content %}
  <!-- Products -->
  <section>
    <div class="container">
      <ul class="pad-100" role="list">
        {% for product in products %}
        <li data-href="{{ product.get_absolute_url }}">
          <div class="card-h">
            <div class="card-h__left pad-100">
              {% if product.image_external %}
                <img src="{{product.image_external}}" width="100" height="100"/>
              {% else %}
                <img src="{% get_media_prefix %}{{product.image}}" width="100" height="100"/>
              {% endif %}
            </div>
            <div class="card-h__right pad-100">
              <span>{{ product.title }} | ${{ product.price }}</span>
            </div>
          </div>
        </li>
        {% endfor %}
      </ul>
    </div>
  </section>
  <!-- Paginator -->
  {% if is_paginated %}
    {% if page_obj %}
      <ul style="display: flex; gap: .5rem; list-style: none;">

        {% if page_obj.has_previous %}
          <li><a href="?page={{ page_obj.previous_page_number }}">&lt;&lt;</a></li>
        {% endif %}
        <li>
        {% for page in pages %}
          <a
            href="?page={{page}}"
            {% if page == page_obj.number %}
              style="font-weight:bold;"
            {%endif%}>
            {{ page }}
          </a>
        {% endfor %}
        </li>
        {% if page_obj.has_next %}
          <li><a href="?page={{ page_obj.next_page_number }}">&gt;&gt;</a></li>
        {% endif %}

      </ul>
    {% endif %}
  {% endif %}

{% endblock %}


